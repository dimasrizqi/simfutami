{% load staticfiles %}<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
<title>{{ title }}</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<script type="text/javascript" src="{% static 'jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'qrcode.js' %}"></script>
</head>
<body >
<div >
{% for a in productperpalet %}

<!-- <a href="/produksi"><img src="/static/home.png" style=" width: 25px; height:25px; border:0; margin: 5px; " ></a> -->

<div id="qrcode" style="width:200px; height:200px; margin-top:5px;  padding:10px;"><img src="/static/futami.png" style="
position: absolute; 
top: 95px;
left:60px;
background-color: white;
border-radius:6px;
width:110px; 
height:40px
z-index: 1">

</div>

<input id="text" type="text" value="{{ a.productperpalet_id }}-{{ a.kode_product }}-{{ a.nomor_batch }}-{{ a.nomor_palet }}-{{ a.tanggal_produksi|date:'d-m-Y' }}" style="width:auto;text-align: center;" readonly>

<br>
<u> {{ title }}</u>
<table>
	<tr>
		<td>kode product</td>
		<td> : </td>
		<td>{{ a.kode_product }}</td>
	</tr>
	<tr>
		<td>nomor batch</td>
		<td> : </td>
		<td>{{ a.nomor_batch }}</td>
	</tr>
	<tr>
		<td>nomor palet</td>
		<td> : </td>
		<td>{{ a.nomor_palet }}</td>
	</tr>
	<tr>
		<td>tanggal diproduksi</td>
		<td> : </td>
		<td>{{ a.tanggal_produksi|date:'d-m-Y' }}</td>
	</tr>
</table>

{% endfor%}
<form>
<button onclick="print_qr()">Print</button>
<input type="button" value="Kembali" onclick="history.back()">


</form>
</div>
<script type="text/javascript">

function print_qr() {
  window.print();
}
function resizeInput() {
    $(this).attr('size', $(this).val().length);
}
// auto width input text
$('input[type="text"]')
    // event handler
    .keyup(resizeInput)
    // resize on page load
    .each(resizeInput);
// end line auto width input text

var qrcode = new QRCode(document.getElementById("qrcode"), {
	width : 200,
	height : 200
});

function makeCode () {		
	var elText = document.getElementById("text");
	if (!elText.value) {
		elText.focus();
		return;
	}
	qrcode.makeCode(elText.value);
}
makeCode();
$("#text").
	on("blur", function () {
		makeCode();
	}).
	on("keydown", function (e) {
		if (e.keyCode == 13) {
			makeCode();
		}
	});
</script>
</body>