{% load static %}
<!DOCTYPE html>
<html lang="en" >
    <!-- begin::Head -->
    <head>
        <meta charset="utf-8" />
        <title>
{{title}}</title>
        <meta name="description" content="Latest updates and statistic charts">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!--begin::Web font -->
        <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.16/webfont.js"></script>
        <script>
          WebFont.load({
            google: {"families":["Poppins:300,400,500,600,700","Roboto:300,400,500,600,700"]},
            active: function() {
                sessionStorage.fonts = true;
            }
          });
        </script>
        <!--end::Web font -->
        <!--begin::Base Styles -->  
        <link href="{% static "assets/assets/vendors/base/vendors.bundle.css" %}"rel="stylesheet" type="text/css" />
        <link href="{% static "assets/assets/demo/default/base/style.bundle.css"  %}" rel="stylesheet" type="text/css" />

        <link href="{% static "assets/components/datatables/dx/css/dx.common.css" %}" rel="stylesheet" type="text/css"/>
        <link href="{% static "assets/components/datatables/dx/css/dx.greenmist.css" %}" rel="stylesheet" type="text/css"/>
        <link href="{% static "assets/components/datatables/dx/css/dx.light.css" %}" rel="stylesheet" type="text/css"/>
        <link href="{% static "assets/components/datatables/dx/css/dx.spa.css" %}" rel="stylesheet" type="text/css"/>
        <!--end::Base Styles -->
        <link rel="shortcut icon" href="{% static "assets/assets/demo/default/media/img/logo/favicon.ico" %}" />
    </head>
    <!-- end::Head -->
    <!-- end::Body -->
    <body  class="m-page--fluid m--skin- m-content--skin-light2 m-header--fixed m-header--fixed-mobile m-aside-left--enabled m-aside-left--skin-dark m-aside-left--offcanvas m-footer--push m-aside--offcanvas-default"  >
        <!-- begin:: Page -->
        <div class="m-grid m-grid--hor m-grid--root m-page">
            <!-- BEGIN: Header -->
            <header id="m_header" class="m-grid__item    m-header "  m-minimize-offset="200" m-minimize-mobile-offset="200" >
                <div class="m-container m-container--fluid m-container--full-height">
                    <div class="m-stack m-stack--ver m-stack--desktop">
                        <!-- BEGIN: Brand -->
                        <div class="m-stack__item m-brand  m-brand--skin-dark ">
                            <div class="m-stack m-stack--ver m-stack--general">
                                <div class="m-stack__item m-stack__item--middle m-brand__logo">
                                    <a href="../" class="m-brand__logo-wrapper">
                                        <img alt="" src="{% static "assets/assets/demo/default/media/img/logo/logo_default_dark.png" %}"/>
                                    </a>
                                </div>
                                <div class="m-stack__item m-stack__item--middle m-brand__tools">
                                    <!-- BEGIN: Left Aside Minimize Toggle -->
                                    <a href="javascript:;" id="m_aside_left_minimize_toggle" class="m-brand__icon m-brand__toggler m-brand__toggler--left m--visible-desktop-inline-block 
                     ">
                                        <span></span>
                                    </a>
                                    <!-- END -->
                            <!-- BEGIN: Responsive Aside Left Menu Toggler -->
                                    <a href="javascript:;" id="m_aside_left_offcanvas_toggle" class="m-brand__icon m-brand__toggler m-brand__toggler--left m--visible-tablet-and-mobile-inline-block">
                                        <span></span>
                                    </a>
                                    <!-- END -->
                            <!-- BEGIN: Responsive Header Menu Toggler -->
                                    <a id="m_aside_header_menu_mobile_toggle" href="javascript:;" class="m-brand__icon m-brand__toggler m--visible-tablet-and-mobile-inline-block">
                                        <span></span>
                                    </a>
                                    <!-- END -->
            <!-- BEGIN: Topbar Toggler -->
                                    <a id="m_aside_header_topbar_mobile_toggle" href="javascript:;" class="m-brand__icon m--visible-tablet-and-mobile-inline-block">
                                        <i class="flaticon-more"></i>
                                    </a>
                                    <!-- BEGIN: Topbar Toggler -->
                                </div>
                            </div>
                        </div>
                        <!-- END: Brand -->
                        <div class="m-stack__item m-stack__item--fluid m-header-head" id="m_header_nav">
                            <!-- BEGIN: Horizontal Menu -->
                            <button class="m-aside-header-menu-mobile-close  m-aside-header-menu-mobile-close--skin-dark " id="m_aside_header_menu_mobile_close_btn">
                                <i class="la la-close"></i>
                            </button>
                            <div id="m_header_menu" class="m-header-menu m-aside-header-menu-mobile m-aside-header-menu-mobile--offcanvas  m-header-menu--skin-light m-header-menu--submenu-skin-light m-aside-header-menu-mobile--skin-dark m-aside-header-menu-mobile--submenu-skin-dark "  >
                                <ul class="m-menu__nav  m-menu__nav--submenu-arrow ">
                                    <li class="m-menu__item  m-menu__item--submenu m-menu__item--rel"  m-menu-submenu-toggle="click" m-menu-link-redirect="1" aria-haspopup="true">
                                        <a  href="http://futami.co.id" class="m-menu__link">
                                            <i class="m-menu__link-icon flaticon-imac"></i>
                                            <span class="m-menu__link-text">
                                                <b>PT. FUTAMI FOOD & BEVEREGES</b>
                                            </span>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                            <!-- END: Horizontal Menu -->                               <!-- BEGIN: Topbar -->
                            <div id="m_header_topbar" class="m-topbar  m-stack m-stack--ver m-stack--general">
                                <div class="m-stack__item m-topbar__nav-wrapper">
                                    <ul class="m-topbar__nav m-nav m-nav--inline">
                                        <li class="m-nav__item m-topbar__user-profile m-topbar__user-profile--img  m-dropdown m-dropdown--medium m-dropdown--arrow m-dropdown--header-bg-fill m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light" m-dropdown-toggle="click">
                                            <a href="#" class="m-nav__link m-dropdown__toggle">
                                                <span class="m-topbar__userpic">
                                                    <img src="{% static "assets/assets/app/media/img/users/user4.jpg" %}" class="m--img-rounded m--marginless m--img-centered" alt=""/>
                                                </span>
                                            </a>
                                            <div class="m-dropdown__wrapper">
                                                <span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
                                                <div class="m-dropdown__inner">
                                                    <div class="m-dropdown__header m--align-center" style="background: url(assets/app/media/img/misc/user_profile_bg.jpg); background-size: cover;">
                                                        <div class="m-card-user m-card-user--skin-dark">
                                                            <div class="m-card-user__pic">
                                                                <img src="{% static "assets/assets/app/media/img/users/user4.jpg" %}" class="m--img-rounded m--marginless" alt=""/>
                                                            </div>
                                                            <div class="m-card-user__details">
                                                                <span class="m-card-user__name m--font-weight-500">
                                                                    <br />
<b>Notice</b>:  Undefined variable: _SESSION in <b>D:\xampp\htdocs\silab\view\header.php</b> on line <b>114</b><br />
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="m-dropdown__body">
                                                        <div class="m-dropdown__content">
                                                            <ul class="m-nav m-nav--skin-light">
                                                                <li class="m-nav__section m--hide">
                                                                    <span class="m-nav__section-text">
                                                                        Section
                                                                    </span>
                                                                </li>
                                                                <li class="m-nav__separator m-nav__separator--fit"></li>
                                                                <li class="m-nav__item">
                                                                    <a href="../action/logout.php" class="btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder">
                                                                        Logout
                                                                    </a>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <!-- END: Topbar -->
                        </div>
                    </div>
                </div>
            </header>      <div class="m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body">
        <!-- BEGIN: Left Aside -->
        <button class="m-aside-left-close  m-aside-left-close--skin-dark " id="m_aside_left_close_btn">
          <i class="la la-close"></i>
        </button>
        <div id="m_aside_left" class="m-grid__item  m-aside-left  m-aside-left--skin-dark ">
          <!-- BEGIN: Aside Menu -->
  <div id="m_ver_menu" class="m-aside-menu  m-aside-menu--skin-dark m-aside-menu--submenu-skin-dark " m-menu-vertical="1" m-menu-scrollable="0" m-menu-dropdown-timeout="500">
            <ul class="m-menu__nav  m-menu__nav--dropdown-submenu-arrow ">
              <li class="m-menu__item  m-menu__item--active" aria-haspopup="true" >
                <a  href="../" class="m-menu__link ">
                  <i class="m-menu__link-icon flaticon-line-graph"></i>
                  <span class="m-menu__link-title">
                    <span class="m-menu__link-wrap">
                      <span class="m-menu__link-text">
                        Dashboard
                      </span>
                    </span>
                  </span>
                </a>
              </li>
              <li class="m-menu__section">
                <h4 class="m-menu__section-text">
                 MENU NAVIGATION
                </h4>
                <i class="m-menu__section-icon flaticon-more-v3"></i>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="javascript:;" class="m-menu__link m-menu__toggle">
                  <i class="m-menu__link-icon flaticon-transport"></i>
                  <span class="m-menu__link-text">
                    Alat & Bahan
                  </span>
                  <i class="m-menu__ver-arrow la la-angle-right"></i>
                </a>
                <div class="m-menu__submenu " m-hidden-height="80" style="">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          Alat & Bahan
                        </span>
                      </span>
                    </li>
                    <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=alat" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                          Alat
                        </span>
                      </a>
                    </li>
                    <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=bahan" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                          Bahan
                        </span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="javascript:;" class="m-menu__link m-menu__toggle">
                  <i class="m-menu__link-icon flaticon-list-3"></i>
                  <span class="m-menu__link-text">
                    Konfirmasi
                  </span>
                  <i class="m-menu__ver-arrow la la-angle-right"></i>
                </a>
                <div class="m-menu__submenu " m-hidden-height="80" style="">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          Konfirmasi
                        </span>
                      </span>
                    </li>
                    <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=k-peminjam" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                          Peminjaman
                        </span>
                      </a>
                    </li>
                    <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=k-pengembalian" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                          Pengembalian
                        </span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="frame.php?page=jadwal" class="m-menu__link">
                  <i class="m-menu__link-icon flaticon-clock-2"></i>
                  <span class="m-menu__link-text">
                    Penjadwalan
                  </span>
                </a>
                <div class="m-menu__submenu " m-hidden-height="840" style="display: none; overflow: hidden;">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                       <a href="frame.php?page=jadwal" class="m-menu__link">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          Penjadwalan
                        </span>
                      </span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="frame.php?page=dp" class="m-menu__link">
                  <i class="m-menu__link-icon flaticon-users"></i>
                  <span class="m-menu__link-text">
                    Daftar Peminjam
                  </span>
                </a>
                <div class="m-menu__submenu " m-hidden-height="840" style="display: none; overflow: hidden;">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                       <a href="frame.php?page=dp" class="m-menu__link">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          Daftar Peminjam
                        </span>
                      </span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="javascript:;" class="m-menu__link m-menu__toggle">
                  <i class="m-menu__link-icon flaticon-interface-8"></i>
                  <span class="m-menu__link-text">
                    Web Settings
                  </span>
                  <i class="m-menu__ver-arrow la la-angle-right"></i>
                </a>
                <div class="m-menu__submenu " m-hidden-height="80" style="">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          Web Settings
                        </span>
                      </span>
                    </li>
                    <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=ws-l" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                          Laboratorium
                        </span>
                      </a>
                    </li>
<!--                     <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=ws-i" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                          Image
                        </span>
                      </a>
                    </li> -->
<!--                     <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=ws-hc" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                        Home Content
                        </span>
                      </a>
                    </li> -->
<!--                     <li class="m-menu__item " aria-haspopup="true">
                      <a href="frame.php?page=ws-f" class="m-menu__link ">
                        <i class="m-menu__link-bullet m-menu__link-bullet--dot">
                          <span></span>
                        </i>
                        <span class="m-menu__link-text">
                        Footer
                        </span>
                      </a>
                    </li> -->
                  </ul>
                </div>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="frame.php?page=us" class="m-menu__link">
                  <i class="m-menu__link-icon flaticon-user-settings"></i>
                  <span class="m-menu__link-text">
                    User Settings
                  </span>
                </a>
                <div class="m-menu__submenu " m-hidden-height="840" style="display: none; overflow: hidden;">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                       <a href="frame.php?page=us" class="m-menu__link">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          User Settings
                        </span>
                      </span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="m-menu__item m-menu__item--submenu" aria-haspopup="true" m-menu-submenu-toggle="hover">
                <a href="../action/logout.php" class="m-menu__link">
                  <i class="m-menu__link-icon flaticon-logout"></i>
                  <span class="m-menu__link-text">
                   Log out
                  </span>
                </a>
                <div class="m-menu__submenu " m-hidden-height="840" style="display: none; overflow: hidden;">
                  <span class="m-menu__arrow"></span>
                  <ul class="m-menu__subnav">
                    <li class="m-menu__item  m-menu__item--parent" aria-haspopup="true">
                       <a href="../action/logout.php" class="m-menu__link">
                      <span class="m-menu__link">
                        <span class="m-menu__link-text">
                          Log out
                        </span>
                      </span>
                      </a>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
          <!-- END: Aside Menu -->
        </div>				<div class="m-grid__item m-grid__item--fluid m-wrapper">
					<!-- BEGIN: Subheader -->
					<!-- 
          <div class="m-subheader ">
						<div class="d-flex align-items-center">
							<div class="mr-auto">
								<h3 class="m-subheader__title m-subheader__title--separator">
									Users Setting
								</h3>
								<ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
									<li class="m-nav__item m-nav__item--home">
										<a href="#" class="m-nav__link m-nav__link--icon">
											<i class="m-nav__link-icon la la-home"></i>
										</a>
									</li>
									<li class="m-nav__item">
										<a href="" class="m-nav__link">
											<span class="m-nav__link-text">
											Users
											</span>
										</a>
									</li>
									<li class="m-nav__separator">
										-
									</li>
									<li class="m-nav__item">
										<a href="" class="m-nav__link">
											<span class="m-nav__link-text">
												Data
											</span>
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div> -->
					<!-- END: Subheader -->
					<div  class="m-content" >
						<div class="m-portlet m-portlet--mobile">
							<div class="m-portlet__head">
								<div class="m-portlet__head-caption">
									<div class="m-portlet__head-title">
										<h3 class="m-portlet__head-text">
											List Data Produksi Perpalet
										</h3>
									</div>
								</div>
								<div class="m-portlet__head-tools">
									<ul class="m-portlet__nav">
										<li class="m-portlet__nav-item">
											<div class="m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" m-dropdown-toggle="hover" aria-expanded="true">
												<button data-toggle="modal" data-target="#modal-us" class="m-portlet__nav-link btn btn-lg btn-secondary  m-btn m-btn--icon m-btn--icon-only m-btn--pill">
													<i class="la la-plus-circle m--font-brand"></i>
												</button>
											</div>
										</li>
									</ul>
								</div>
							</div>
							<div class="m-portlet__body">
		<!--begin: Datatable -->
					<div  class="box-body">
		              <div id="gridus"></div>
		          </div>
		<!--end: Datatable -->
			</div>
		</div>
		<!--begin::Modal-->
<div class="modal fade" id="modal-us" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">
					Tambah Data
				</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">
						&times;
					</span>
				</button>
			</div>
			<div class="modal-body">
			<!--begin::Form-->
			<form action="../action/insert.php?proses=us" method="post" class="m-form m-form--fit m-form--label-align-right m-form--group-seperator-dashed" enctype="multipart/form-data">
				<div class="m-portlet__body">
					<div class="form-group m-form__group row">
						<div class="col-lg-6">
						<span class="m-form__help">
								Nama
						</span>
							<input type="text" name="nama" class="form-control m-input" placeholder="Nama">
						</div>
						<div class="col-lg-6">
							<span class="m-form__help">
								Username
							</span>
							<input type="text" name="username" class="form-control m-input" placeholder="Username">
						</div>
						<div class="col-lg-6">
							<span class="m-form__help">
								Password
							</span>
							<input type="password" name="password" class="form-control m-input" placeholder="Password">
						</div>
						<div class="col-lg-6">
							<span class="m-form__help">
								Email
							</span>
							<input type="email" name="email" class="form-control m-input" placeholder="Email">
						</div>
						<div class="col-lg-6">
							<span class="m-form__help">
								Level
							</span>
							<select class="form-control m-input" id="exampleSelect1" name="level">
								<option value="1">Admin</option>
								<option value="2">User</option>
							</select>
						</div>
						<div class="col-lg-6">
							<span class="m-form__help">
								Foto
							</span>
						<div></div>
						<div class="custom-file">
							<input type="file" name="foto" class="custom-file-input" id="customFile">
							<label class="custom-file-label" for="customFile">
								Pilih Foto
							</label>
						</div>
					</div>
					</div>
				</div>
			<!--end::Form-->
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">
					Close
				</button>
				<button type="submit" class="btn btn-primary">
					Save
				</button>
			</div>
		</form>
		</div>
	</div>
</div>
<!--end::Modal--></div>
</div>
</div>
<!-- begin::Footer -->
	<footer class="m-grid__item	m-footer ">
		<div class="m-container m-container--fluid m-container--full-height m-page__container">
			<div class="m-stack m-stack--flex-tablet-and-mobile m-stack--ver m-stack--desktop">
				<div class="m-stack__item m-stack__item--left m-stack__item--middle m-stack__item--last">
					<span class="m-footer__copyright">
						2019 &copy; Silab by
						<a href="https://tokecang.com" class="m-link">
							Tokecang
						</a>
					</span>
				</div>
			</div>
		</div>
	</footer>
	<!-- end::Footer -->
</div>
<!-- end:: Page -->
<!-- end::Quick Sidebar -->		    
<!-- begin::Scroll Top -->
<div id="m_scroll_top" class="m-scroll-top">
	<i class="la la-arrow-up"></i>
</div>	
<!--begin::Base Scripts -->
<script src="{% static "assets/assets/vendors/base/vendors.bundle.js" %}" type="text/javascript"></script>
<script src="{% static "assets/assets/demo/default/base/scripts.bundle.js" %}" type="text/javascript"></script>
<script src="{% static "assets/assets/demo/default/custom/components/forms/widgets/bootstrap-datepicker.js" %}" type="text/javascript"></script>
<script src="{% static "assets/assets/demo/default/custom/components/forms/widgets/dropzone.js" %}"  type="text/javascript"></script>
<script src="{% static "assets/assets/demo/default/custom/components/forms/widgets/bootstrap-timepicker.js" %}"  type="text/javascript"></script>
<!--end::Base Scripts -->   
<!--begin::Page Vendors -->
<!--end::Page Vendors -->  
<!--begin::Page Snippets -->
<script src="{% static "assets/assets/app/js/dashboard.js" %}"  type="text/javascript"></script>
<script src="{% static "assets/components/datatables/dx/js/jszip.min.js" %}" ></script>
<script src="{% static "assets/components/datatables/dx/js/dx.all.js" %}"> </script>
<!--end::Page Snippets -->

<style>
.dx-row img {
    height: 50px;
    text-align: center;
}
.first-group,
.second-group {
    padding: 20px;
}

.second-group {
    background-color: rgba(191, 191, 191, 0.15);
}
</style>
<script type="text/javascript">
//Start JS Instrument alat
loadTableAlat(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=labalat&id=%',
            dataType: "json",
            success: function (data) {
                loadTableAlat(data)
            }
        });
function readTextFile(file, callback) {
    var rawFile = new XMLHttpRequest();
    rawFile.overrideMimeType("application/json");
    rawFile.open("GET", file, true);
    rawFile.onreadystatechange = function() {
        if (rawFile.readyState === 4 && rawFile.status == "200") {
            callback(rawFile.responseText);
        }
    }
    rawFile.send(null);
}

function loadTableAlat(Data) {
        readTextFile("../config/api.php?modul=lab", function(text){
        var lab = JSON.parse(text);
            $("#gridalat").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: "List Alat"
                },
                editing: {
                    mode: "popup",
                    allowUpdating: true,
                    allowDeleting: true,
                    allowAdding: false,
                    popup: {
                        title: "Edit Alat",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:true
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: true
                },
                searchPanel: {
                    visible: true,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {
                        dataField: "foto",
                        width: 100,
                        allowFiltering: false,
                        allowSorting: false,
                        cellTemplate: function (container, options) {
                            $("<div>")
                                .append($("<img>", { "src":options.value }))
                                .appendTo(container);
                        }
                    },
                    {dataField: 'nama_alat', caption: 'Nama'},
                    {dataField: 'merk', caption: 'Merk'},
                    {dataField: 'spesifikasi', caption: 'Spesifikasi'},
                    {dataField: 'jumlah', caption: 'Jumlah'},
                    {dataField: 'tersedia', caption: 'Tersedia'},
                    {dataField: 'kondisi', caption: 'Kondisi'},
                    {dataField: 'tgl_masuk', caption: 'Tgl. Masuk',dataType: "date",format: 'yyyy-MM-dd'},
                    {
                    dataField: "id_lab",
                    caption: "Laboratorium",
                    width: 125,
                    lookup: {
                        dataSource: lab,
                        displayExpr: "nama_lab",
                        valueExpr: "id"
                        }
                    },
                    {dataField: 'lokasi', caption: 'Lokasi'}
                ],
                summary: {
                    groupItems: [{
                        column: "nama_alat",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_alat",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
                onRowRemoved: function (e) {
                    var id = e.key.id;
                    $.ajax({
                        type: 'GET',
                        url: '../action/crud.php?get=delete&tbl=tbl_alat&id='+ id,
                        contentType: "application/json; charset=utf-8",
                        traditional: true,
                        success: function (e) {
                            $.notify({
                                message: 'Berhasil Hapus'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onRowUpdated: function (info) {
                    var id =info.key.id;
                    $.ajax({
                        type: 'POST',
                        url: '../action/crud.php?get=update&tbl=tbl_alat&id='+ id,
                        data:info.data,
                        success: function (e) {
                            $.notify({
                                message: 'Rubah Data Berhasil'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onEditorPreparing: function (e) {
                    if (e.dataField == "id" && e.parentType == "dataRow") {
                        e.editorOptions.disabled = true;
                    }
                },
                onCellPrepared: function (e) {
                    if (e.rowType === "data" && e.column.command === "edit") {
                        var isEditing = e.row.isEditing,
                            $links = e.cellElement.find(".dx-link");
                        $links.text("");

                        if (isEditing) {
                            $links.filter(".dx-link-save").addClass("dx-icon-save");
                            $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                        } else {
                            $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                            $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                        }
                    }
                }
            });
            });
        }
        //end JS Alat

        //Start Bahan
loadTableBahan(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=labbahan&id=%',
            dataType: "json",
            success: function (data) {
                loadTableBahan(data)
            }
        });
function loadTableBahan(Data) {
            readTextFile("../config/api.php?modul=lab", function(text){
        var lab = JSON.parse(text);
            $("#gridbahan").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: "List Bahan"
                },
                editing: {
                    mode: "popup",
                    allowUpdating: true,
                    allowDeleting: true,
                    allowAdding: false,
                    popup: {
                        title: "Edit Bahan",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:true
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: true
                },
                searchPanel: {
                    visible: true,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'nama_bahan', caption: 'Nama'},
                    {dataField: 'merk', caption: 'Merk'},
                    {dataField: 'wujud', caption: 'Wujud'},
                    {dataField: 'jumlah', caption: 'Jumlah'},
                    {dataField: 'tersedia', caption: 'Tersedia'},
                    {dataField: 'satuan', caption: 'Satuan'},
                    {dataField: 'kondisi', caption: 'Kondisi'},
                    {dataField: 'konsentrasi', caption: 'Konsentrasi'},
                    {dataField: 'tgl_masuk', caption: 'Tgl. Masuk',dataType: "date",format: 'yyyy-MM-dd'},
                    {
                    dataField: "id_lab",
                    caption: "Laboratorium",
                    width: 125,
                    lookup: {
                        dataSource: lab,
                        displayExpr: "nama_lab",
                        valueExpr: "id"
                        }
                    },
                    {dataField: 'lokasi', caption: 'Lokasi'}
                ],
                summary: {
                    groupItems: [{
                        column: "nama_bahan",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_bahan",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
                onRowRemoved: function (e) {
                    var id = e.key.id;
                    $.ajax({
                        type: 'GET',
                        url: '../action/crud.php?get=delete&tbl=tbl_bahan&id='+ id,
                        contentType: "application/json; charset=utf-8",
                        traditional: true,
                        success: function (e) {
                            $.notify({
                                message: 'Berhasil Hapus'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onRowUpdated: function (info) {
                    var id =info.key.id;
                    $.ajax({
                        type: 'POST',
                        url: '../action/crud.php?get=update&tbl=tbl_bahan&id='+ id,
                        data:info.data,
                        success: function (e) {
                            $.notify({
                                message: 'Rubah Data Berhasil'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onEditorPreparing: function (e) {
                    if (e.dataField == "id" && e.parentType == "dataRow") {
                        e.editorOptions.disabled = true;
                    }
                },
                onCellPrepared: function (e) {
                    if (e.rowType === "data" && e.column.command === "edit") {
                        var isEditing = e.row.isEditing,
                            $links = e.cellElement.find(".dx-link");
                        $links.text("");

                        if (isEditing) {
                            $links.filter(".dx-link-save").addClass("dx-icon-save");
                            $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                        } else {
                            $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                            $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                        }
                    }
                }
            });
            });
        }
        //end JS bahan
        //Start JS jadwal
loadTableJadwal(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=jadwal&id=%',
            dataType: "json",
            success: function (data) {
                loadTableJadwal(data)
            }
        });
function loadTableJadwal(Data) {
        readTextFile("../config/api.php?modul=lab", function(text){
        var lab = JSON.parse(text);
            $("#gridjadwal").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: "List Jadwal"
                },
                editing: {
                    mode: "popup",
                    allowUpdating: true,
                    allowDeleting: true,
                    allowAdding: false,
                    popup: {
                        title: "Edit Jadwal",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:true
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: true
                },
                searchPanel: {
                    visible: true,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'tgl', caption: 'Tanggal',dataType: "date",format: 'yyyy-MM-dd'},
                    {dataField: 'jam', caption: 'Jam'},
                    {dataField: 'nama_kegiatan', caption: 'Nama Kegiatan'},
                    {
                    dataField: "id_lab",
                    caption: "Laboratorium",
                    width: 125,
                    lookup: {
                        dataSource: lab,
                        displayExpr: "nama_lab",
                        valueExpr: "id"
                        }
                    },
                    {dataField: 'ruang', caption: 'Ruang'}
                    
                ],
                summary: {
                    groupItems: [{
                        column: "nama_kegiatan",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_kegiatan",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
                onRowRemoved: function (e) {
                    var id = e.key.id;
                    $.ajax({
                        type: 'GET',
                        url: '../action/crud.php?get=delete&tbl=tbl_jadwal&id='+ id,
                        contentType: "application/json; charset=utf-8",
                        traditional: true,
                        success: function (e) {
                            $.notify({
                                message: 'Berhasil Hapus'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onRowUpdated: function (info) {
                    var id =info.key.id;
                    $.ajax({
                        type: 'POST',
                        url: '../action/crud.php?get=update&tbl=tbl_jadwal&id='+ id,
                        data:info.data,
                        success: function (e) {
                            $.notify({
                                message: 'Rubah Data Berhasil'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onEditorPreparing: function (e) {
                    if (e.dataField == "id" && e.parentType == "dataRow") {
                        e.editorOptions.disabled = true;
                    }
                },
                onCellPrepared: function (e) {
                    if (e.rowType === "data" && e.column.command === "edit") {
                        var isEditing = e.row.isEditing,
                            $links = e.cellElement.find(".dx-link");
                        $links.text("");

                        if (isEditing) {
                            $links.filter(".dx-link-save").addClass("dx-icon-save");
                            $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                        } else {
                            $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                            $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                        }
                    }
                }
            });
            });
        }
        //end JS jadwal
        //Start JS ws lab
loadTableWsL(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=lab',
            dataType: "json",
            success: function (data) {
                loadTableWsL(data)
            }
        });
function loadTableWsL(Data) {
            $("#gridwsl").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: "Web Setting Lab"
                },
                editing: {
                    mode: "popup",
                    allowUpdating: true,
                    allowDeleting: true,
                    allowAdding: false,
                    popup: {
                        title: "Edit Laboratorium",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:true
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: true
                },
                searchPanel: {
                    visible: true,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'nama_lab', caption: 'Nama Lab.'},
                    {dataField: 'telp', caption: 'Telepon'},
                    {dataField: 'email', caption: 'Email'},
                    {dataField: 'profil', caption: 'Profil'},
                    {dataField: 'ketentuan', caption: 'Ketentuan'},
                    {dataField: 'maps', caption: 'Maps'}
                    
                ],
                summary: {
                    groupItems: [{
                        column: "nama_lab",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_kegiatan",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
                onRowRemoved: function (e) {
                    var id = e.key.id;
                    $.ajax({
                        type: 'GET',
                        url: '../action/crud.php?get=delete&tbl=tbl_lab&id='+ id,
                        contentType: "application/json; charset=utf-8",
                        traditional: true,
                        success: function (e) {
                            $.notify({
                                message: 'Berhasil Hapus'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onRowUpdated: function (info) {
                    var id =info.key.id;
                    $.ajax({
                        type: 'POST',
                        url: '../action/crud.php?get=update&tbl=tbl_lab&id='+ id,
                        data:info.data,
                        success: function (e) {
                            $.notify({
                                message: 'Rubah Data Berhasil'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onEditorPreparing: function (e) {
                    if (e.dataField == "id" && e.parentType == "dataRow") {
                        e.editorOptions.disabled = true;
                    }
                },
                onCellPrepared: function (e) {
                    if (e.rowType === "data" && e.column.command === "edit") {
                        var isEditing = e.row.isEditing,
                            $links = e.cellElement.find(".dx-link");
                        $links.text("");

                        if (isEditing) {
                            $links.filter(".dx-link-save").addClass("dx-icon-save");
                            $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                        } else {
                            $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                            $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                        }
                    }
                }
            });
        }
        //end JS Web Setting Lab
        // start user setting

loadTableUs(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=us',
            dataType: "json",
            success: function (data) {
                loadTableUs(data)
            }
        });
function loadTableUs(Data) {
            var level = [{
            "id": 1,
            "nama": "Admin"
            },{
            "id": 2,
            "nama": "User"
            }];
            var aktif = [{
            "id": 1,
            "nama": "Aktif"
            },{
            "id": 0,
            "nama": "Non Aktif"
            }];
                
            $("#gridus").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: "Users Setting"
                },
                editing: {
                    mode: "popup",
                    allowUpdating: true,
                    allowDeleting: true,
                    allowAdding: false,
                    popup: {
                        title: "Edit Users",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:true
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: true
                },
                searchPanel: {
                    visible: true,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'nama', caption: 'Nama'},
                    {dataField: 'username', caption: 'Username'},
                    {dataField: 'password', caption: 'Password'},
                    {dataField: 'email', caption: 'Email'},
                    {
                    dataField: "level",
                    caption: "Level",
                    width: 125,
                    lookup: {
                        dataSource: level,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    },
                    {
                    dataField: "aktif",
                    caption: "Status",
                    width: 125,
                    lookup: {
                        dataSource: aktif,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    },
                    
                ],
                summary: {
                    groupItems: [{
                        column: "nama_lab",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_kegiatan",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
                onRowRemoved: function (e) {
                    var id = e.key.id;
                    $.ajax({
                        type: 'GET',
                        url: '../action/crud.php?get=delete&tbl=tbl_user&id='+ id,
                        contentType: "application/json; charset=utf-8",
                        traditional: true,
                        success: function (e) {
                            $.notify({
                                message: 'Berhasil Hapus'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onRowUpdated: function (info) {
                    var id =info.key.id;
                    $.ajax({
                        type: 'POST',
                        url: '../action/crud.php?get=update&tbl=tbl_user&id='+ id,
                        data:info.data,
                        success: function (e) {
                            $.notify({
                                message: 'Rubah Data Berhasil'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onEditorPreparing: function (e) {
                    if (e.dataField == "id" && e.parentType == "dataRow") {
                        e.editorOptions.disabled = true;
                    }
                },
                onCellPrepared: function (e) {
                    if (e.rowType === "data" && e.column.command === "edit") {
                        var isEditing = e.row.isEditing,
                            $links = e.cellElement.find(".dx-link");
                        $links.text("");

                        if (isEditing) {
                            $links.filter(".dx-link-save").addClass("dx-icon-save");
                            $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                        } else {
                            $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                            $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                        }
                    }
                }
            });
        }
        //end user setting
loadTableRekapAlat(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=rekapalat',
            dataType: "json",
            success: function (data) {
                loadTableRekapAlat(data)
            }
        });
function loadTableRekapAlat(Data) {
            $("#gridrekapalat").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                editing: {
                    mode: "popup",
                    allowUpdating: false,
                    allowDeleting: false,
                    allowAdding: false,
                    popup: {
                        title: "",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'nama_lab', caption: 'Laboratorium'},
                    {dataField: 'jumlah', caption: 'Jumlah Alat'}                    
                ],
                summary: {
                    groupItems: [{
                        column: "nama_lab",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_lab",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    },
                    {
                        column: "jumlah",
                        summaryType: "sum",
                        displayFormat: "Total {0} Items"
                    }]
                },
            });
        }
loadTableRekapBahan(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=rekapbahan',
            dataType: "json",
            success: function (data) {
                loadTableRekapBahan(data)
            }
        });
function loadTableRekapBahan(Data) {
            $("#gridrekapbahan").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                editing: {
                    mode: "popup",
                    allowUpdating: false,
                    allowDeleting: false,
                    allowAdding: false,
                    popup: {
                        title: "",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'nama_lab', caption: 'Laboratorium'},
                    {dataField: 'jumlah', caption: 'Jumlah Bahans'}                    
                ],
                summary: {
                    groupItems: [{
                        column: "nama_lab",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "nama_lab",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    },
                    {
                        column: "jumlah",
                        summaryType: "sum",
                        displayFormat: "Total {0} Items"
                    }]
                },
            });
        }
        //end user setting
        //start konfirmasi peminjaman
        loadTablePinjam(null);
        loadTableDp(null);
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=k-pinjam',
            dataType: "json",
            success: function (data) {
                loadTablePinjam(data)
                loadTableDp(data)
            }
        });
function loadTablePinjam(Data) {
            var tipe = [{
            "id": 1,
            "nama": "Alat"
            },{
            "id": 2,
            "nama": "Bahan"
            }];
            $("#gridpinjam").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                editing: {
                    mode: "popup",
                    allowUpdating: false,
                    allowDeleting: false,
                    allowAdding: false,
                    popup: {
                        title: "",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'kode', caption: 'Kode'},
                    {dataField: 'nama_peminjam', caption: 'Nama'},
                    {dataField: 'nama_alat', caption: 'Nama Alat'},
                    {dataField: 'nama_bahan', caption: 'Nama Bahan'},
                    {
                    dataField: "tipe",
                    caption: "Tipe",
                    width: 80,
                    lookup: {
                        dataSource: tipe,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    },
                    {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman'},
                    {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian'},
                    {
                        caption: "Detail",
                        width: 70,
                        cellTemplate: function (container, options) {
                            if (options.rowType !== 'groupFooter') {
                                $('<div/>').html('<button onclick="detail_pinjam('+options.data.id+','+options.data.tipe+','+options.data.id_alat+','+options.data.id_bahan+')"><i class="fa fa-info-circle"></i></button>')
                                    .appendTo(container);
                            }

                        },

                        alignment: 'center', allowEditing: false

                    }
                ],
                summary: {
                    groupItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    },
                    {
                        column: "jumlah",
                        summaryType: "sum",
                        displayFormat: "Total {0} Items"
                    }]
                }
            });
        }
        function loadTableDp(Data) {
            var tipe = [{
            "id": 1,
            "nama": "Alat"
            },{
            "id": 2,
            "nama": "Bahan"
            }];
            var status = [
            {"id": 0,
                "nama": "New"
            },{
            "id": 1,
            "nama": "Clear"
            },{
            "id": 2,
            "nama": "Reject"
            }];
            $("#griddp").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'kode', caption: 'Kode'},
                    {dataField: 'nama_peminjam', caption: 'Nama'},
                    {dataField: 'nama_alat', caption: 'Nama Alat'},
                    {dataField: 'nama_bahan', caption: 'Nama Bahan'},
                    {
                    dataField: "tipe",
                    caption: "Tipe",
                    width: 125,
                    lookup: {
                        dataSource: tipe,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    },
                    {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman'},
                    {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian'},
                    {
                    dataField: "status",
                    caption: "Status",
                    width: 125,
                    lookup: {
                        dataSource: status,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    }
                ],
                summary: {
                    groupItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                }
            });
        }
        function detail_pinjam(id,tipe,alat,bahan) {
        $.ajax({
            type: 'POST',
            url: '../config/api.php?modul=k-pinjam-detail&id='+id+'&tipe='+tipe,
            dataType: "json",
            success: function (data) {
                if(tipe==1){
                    $('#modal-pinjam-alat').modal('show');
                    form_detail_pinjam_alat(data);
                    loadTablePeminjamalat(null);
                    $.ajax({
                        type: 'POST',
                        url: '../config/api.php?modul=k-pinjam-detail-where&id='+alat+'&tipe='+tipe,
                        dataType: "json",
                        success: function (data) {
                            loadTablePeminjamalat(data)
                        }
                    });
                    loadTableKonfirmasialat(null);
                    $.ajax({
                        type: 'POST',
                        url: '../config/api.php?modul=k-pinjam-detail-konfirmasi&id='+alat+'&tipe='+tipe,
                        dataType: "json",
                        success: function (data) {
                            loadTableKonfirmasialat(data)
                        }
                    });
                }else{
                    $('#modal-pinjam-bahan').modal('show');
                    form_detail_pinjam_bahan(data);
                    loadTablePeminjambahan(null);
                    $.ajax({
                        type: 'POST',
                        url: '../config/api.php?modul=k-pinjam-detail-where&id='+bahan+'&tipe='+tipe,
                        dataType: "json",
                        success: function (data) {
                            loadTablePeminjambahan(data)
                        }
                    });
                    loadTableKonfirmasibahan(null);
                    $.ajax({
                        type: 'POST',
                        url: '../config/api.php?modul=k-pinjam-detail-konfirmasi&id='+bahan+'&tipe='+tipe,
                        dataType: "json",
                        success: function (data) {
                            loadTableKonfirmasibahan(data)
                        }
                    });
                }

            }
        });
    }
function konfirmasi(id) {
    $('#modal-pinjam-alat').modal('hide');
    $('#modal-pinjam-bahan').modal('hide');
    $.ajax({
        type: 'POST',
        url: '../action/crud.php?get=update&tbl=tbl_peminjaman&id='+ id,
        data:{status:1},
        success: function (e) {
            $.notify({
                message: 'Peminjaman di Terima'
            }, {
                type: 'success'
            });

        }
    });
}
function tolak(id) {
    $('#modal-pinjam-alat').modal('hide');
    $('#modal-pinjam-bahan').modal('hide');
    $.ajax({
        type: 'POST',
        url: '../action/crud.php?get=update&tbl=tbl_peminjaman&id='+ id,
        data:{status:2},
        success: function (e) {
            $.notify({
                message: 'Peminjaman di Tolak'
            }, {
                type: 'danger'
            });

        }
    });
}
function konfirmasi_kembali(id) {
    $.ajax({
        type: 'POST',
        url: '../action/crud.php?get=update&tbl=tbl_pengembalian&id='+ id,
        data:{status:1},
        success: function (e) {
            $.notify({
                message: 'Pengembalian di Terima'
            }, {
                type: 'success'
            });

        }
    });
}
function tolak_kembali(id) {
    $.ajax({
        type: 'POST',
        url: '../action/crud.php?get=update&tbl=tbl_pengembalian&id='+ id,
        data:{status:2},
        success: function (e) {
            $.notify({
                message: 'Pengembalian di Tolak'
            }, {
                type: 'danger'
            });

        }
    });
}
    function loadTablePeminjamalat(Data) {
            $("#gridpeminjamalat").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'kode', caption: 'Kode'},
                    {dataField: 'nama_peminjam', caption: 'Nama'},
                    {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman',dataType: "date",format: 'yyyy-MM-dd'},
                    {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian',dataType: "date",format: 'yyyy-MM-dd'},
                    {dataField: 'jumlah_pinjam', caption: 'Jumlah'}
                ],
                summary: {
                    groupItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                }
            });
        }
function loadTablePeminjambahan(Data) {
    $("#gridpeminjambahan").dxDataGrid({
        dataSource:  Data,
        loadPanel: {
            enabled: true
        },
        "export": {
            enabled: true,
            fileName: ""
        },
        showColumnLines: true,
        showRowLines: true,
        showBorders: true,
        paging: {
            pageSize: 10,
            enabled:true
        },

        groupPanel: {
            visible: true
        },
        filterRow: {
            visible: true,
            applyFilter: "auto"
        },
        headerFilter: {
            visible: true,
            allowSearch:false
        },

        columnAutoWidth:true,
        allowColumnResizing: true,
        columnResizingMode: "nextColumn",
        showScrollbar: 'always',

        grouping: {
            autoExpandAll: true
        },
        pager: {
            showPageSizeSelector: true,
            allowedPageSizes: [10, 50, 100],
            showInfo: false
        },
        searchPanel: {
            visible: false,
            width: 240,
            placeholder: "Search..."
        },
        columns: [
            {dataField: 'id',visible: false},
            {dataField: 'kode', caption: 'Kode'},
            {dataField: 'nama_peminjam', caption: 'Nama'},
            {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman',dataType: "date",format: 'yyyy-MM-dd'},
            {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian',dataType: "date",format: 'yyyy-MM-dd'},
            {dataField: 'jumlah_pinjam', caption: 'Jumlah'}
        ],
        summary: {
            groupItems: [{
                column: "kode",
                summaryType: "count",
                displayFormat: "{0} Items"
            }],
            totalItems: [{
                column: "kode",
                summaryType: "count",
                displayFormat: "{0} Items"
            }]
        }
    });
}
        function loadTableKonfirmasialat(Data) {
            $("#gridkonfirmasialat").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },
                editing: {
                    mode: "popup",
                    allowUpdating: true,
                    allowDeleting: false,
                    allowAdding: false,
                    popup: {
                        title: "Edit Konformasi",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'kode', caption: 'Kode'},
                    {dataField: 'nama_peminjam', caption: 'Nama'},
                    {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman',dataType: "date",format: 'yyyy-MM-dd'},
                    {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian',dataType: "date",format: 'yyyy-MM-dd'},
                    {dataField: 'jumlah_pinjam', caption: 'Jumlah'},
                                        {
                        caption: "Aksi",
                        width: 100,
                        cellTemplate: function (container, options) {
                            if (options.rowType !== 'groupFooter') {
                                $('<div/>').html('<a onclick="konfirmasi('+options.data.id+')"><i class="fa fa-check"></i></a> | <a onclick="tolak('+options.data.id+')"><i class="fa fa-remove"></i></a>')
                                    .appendTo(container);
                            }

                        },

                        alignment: 'center', allowEditing: false

                    }
                ],
                onRowUpdated: function (info) {
                    var id =info.key.id;
                    $.ajax({
                        type: 'POST',
                        url: '../action/crud.php?get=update&tbl=tbl_peminjaman&id='+ id,
                        data:info.data,
                        success: function (e) {
                            $('#modal-pinjam-alat').modal('hide');
                            $('#modal-pinjam-bahan').modal('hide');
                            $.notify({
                                message: 'Rubah Data Berhasil'
                            }, {
                                type: 'success'
                            });
                        }
                    });
                },
                onEditorPreparing: function (e) {
                    if (e.dataField == "id" && e.parentType == "dataRow" || e.dataField == "kode" && e.parentType == "dataRow" || e.dataField == "aksi" && e.parentType == "dataRow") {
                        e.editorOptions.disabled = true;
                    }
                },
                onCellPrepared: function (e) {
                    if (e.rowType === "data" && e.column.command === "edit") {
                        var isEditing = e.row.isEditing,
                            $links = e.cellElement.find(".dx-link");
                        $links.text("");

                        if (isEditing) {
                            $links.filter(".dx-link-save").addClass("dx-icon-save");
                            $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                        } else {
                            $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                            $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                        }
                    }
                },
                summary: {
                    groupItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                }
            });
        }
function loadTableKonfirmasibahan(Data) {
    $("#gridkonfirmasibahan").dxDataGrid({
        dataSource:  Data,
        loadPanel: {
            enabled: true
        },
        "export": {
            enabled: true,
            fileName: ""
        },
        showColumnLines: true,
        showRowLines: true,
        showBorders: true,
        paging: {
            pageSize: 10,
            enabled:true
        },
        editing: {
            mode: "popup",
            allowUpdating: true,
            allowDeleting: false,
            allowAdding: false,
            popup: {
                title: "Edit Konfirmasi",
                showTitle: true,
                width: 700,
                height: 500,
                position: {
                    my: "center",
                    at: "center",
                    of: window
                }
            }
        },
        groupPanel: {
            visible: true
        },
        filterRow: {
            visible: true,
            applyFilter: "auto"
        },
        headerFilter: {
            visible: true,
            allowSearch:false
        },

        columnAutoWidth:true,
        allowColumnResizing: true,
        columnResizingMode: "nextColumn",
        showScrollbar: 'always',

        grouping: {
            autoExpandAll: true
        },
        pager: {
            showPageSizeSelector: true,
            allowedPageSizes: [10, 50, 100],
            showInfo: false
        },
        searchPanel: {
            visible: false,
            width: 240,
            placeholder: "Search..."
        },
        columns: [
            {dataField: 'id',visible: false},
            {dataField: 'kode', caption: 'Kode'},
            {dataField: 'nama_peminjam', caption: 'Nama'},
            {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman',dataType: "date",format: 'yyyy-MM-dd'},
            {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian',dataType: "date",format: 'yyyy-MM-dd'},
            {dataField: 'jumlah_pinjam', caption: 'Jumlah'},
            {
                caption: "Aksi",
                width: 100,
                cellTemplate: function (container, options) {
                    if (options.rowType !== 'groupFooter') {
                        $('<div/>').html('<a onclick="konfirmasi('+options.data.id+')"><i class="fa fa-check"></i></a> | <a onclick="tolak('+options.data.id+')"><i class="fa fa-remove"></i></a>')
                            .appendTo(container);
                    }

                },

                alignment: 'center', allowEditing: false

            }
        ],
        onRowUpdated: function (info) {

            var id =info.key.id;
            $.ajax({
                type: 'POST',
                url: '../action/crud.php?get=update&tbl=tbl_peminjaman&id='+ id,
                data:info.data,
                success: function (e) {
                    $('#modal-pinjam-alat').modal('hide');
                    $('#modal-pinjam-bahan').modal('hide');
                    $.notify({
                        message: 'Rubah Data Berhasil'
                    }, {
                        type: 'success'
                    });
                }
            });
        },
        onEditorPreparing: function (e) {
            if (e.dataField == "id" && e.parentType == "dataRow" ||e.dataField == "kode" && e.parentType == "dataRow" || e.dataField == "aksi" && e.parentType == "dataRow") {
                e.editorOptions.disabled = true;
            }
        },
        onCellPrepared: function (e) {
            if (e.rowType === "data" && e.column.command === "edit") {
                var isEditing = e.row.isEditing,
                    $links = e.cellElement.find(".dx-link");
                $links.text("");

                if (isEditing) {
                    $links.filter(".dx-link-save").addClass("dx-icon-save");
                    $links.filter(".dx-link-cancel").addClass("dx-icon-revert");
                } else {
                    $links.filter(".dx-link-edit").addClass("dx-icon-edit");
                    $links.filter(".dx-link-delete").addClass("dx-icon-trash");
                }
            }
        },
        summary: {
            groupItems: [{
                column: "kode",
                summaryType: "count",
                displayFormat: "{0} Items"
            }],
            totalItems: [{
                column: "kode",
                summaryType: "count",
                displayFormat: "{0} Items"
            }]
        }
    });
}
 function form_detail_pinjam_alat(data){
    $("#formpinjamalat").dxForm({
        formData: data[0],
        items: [{
            itemType: "group",
            cssClass: "first-group",
            colCount: 4,
            items: [{
                template: "<img src='"+data[0].foto+"' alt='' style='width: 180px'/>"
            }, {
                itemType: "group",
                colSpan: 3,
                items: [{
                    editorOptions: {
                disabled: true
                },
                    dataField: "nama_alat",
                    caption : "Nama Alat"
                },{
                    editorOptions: {
                disabled: true
                },
                    dataField: "kondisi_alat",
                    caption : "Kondisi Alat"
                },
                {
                    editorOptions: {
                disabled: true
                },
                    dataField: "jumlah_alat",
                    caption : "Jumlah Alat"
                },
                {
                    editorOptions: {
                disabled: true
                },
                    dataField: "tersedia_alat",
                    caption : "Tersedia Alat"
                }
                ]
            }]
        }]
    });
}
function form_detail_pinjam_bahan(data){
    $("#formpinjambahan").dxForm({
        formData: data[0],
        items: [{
            itemType: "group",
            cssClass: "first-group",
            items: [{
//                template: "<img src='"+data[0].foto+"' alt=''/>"
            }, {
                itemType: "group",
                colSpan: 3,
                items: [{
                    editorOptions: {
                        disabled: true
                    },
                    dataField: "nama_bahan",
                    caption : "Nama Bahan"
                },{
                    editorOptions: {
                        disabled: true
                    },
                    dataField: "kondisi_bahan",
                    caption : "Kondisi Bahan"
                },
                    {
                        editorOptions: {
                            disabled: true
                        },
                        dataField: "jumlah_bahan",
                        caption : "Jumlah Bahan"
                    },
                    {
                        editorOptions: {
                            disabled: true
                        },
                        dataField: "tersedia_bahan",
                        caption : "Tersedia Bahan"
                    }
                ]
            }]
        }]
    });
}
loadTableKembali(null);
$.ajax({
    type: 'POST',
    url: '../config/api.php?modul=k-kembali',
    dataType: "json",
    success: function (data) {
        loadTableKembali(data)
    }
});
function loadTableKembali(Data) {
            var tipe = [{
            "id": 1,
            "nama": "Alat"
            },{
            "id": 2,
            "nama": "Bahan"
            }];
            var status = [
            {"id": 0,
                "nama": "New"
            },{
            "id": 1,
            "nama": "Clear"
            },{
            "id": 2,
            "nama": "Reject"
            }];
            $("#gridkembali").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                editing: {
                    mode: "popup",
                    allowUpdating: false,
                    allowDeleting: false,
                    allowAdding: false,
                    popup: {
                        title: "",
                        showTitle: true,
                        width: 700,
                        height: 500,
                        position: {
                            my: "center",
                            at: "center",
                            of: window
                        }
                    }
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'kode', caption: 'Kode'},
                    {dataField: 'nama_peminjam', caption: 'Nama'},
                    {dataField: 'nama_alat', caption: 'Nama Alat'},
                    {dataField: 'nama_bahan', caption: 'Nama Bahan'},
                    {
                    dataField: "tipe",
                    caption: "Tipe",
                    width: 125,
                    lookup: {
                        dataSource: tipe,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    },
                    {dataField: 'tgl_pinjam', caption: 'Tgl. Peminjaman'},
                    {dataField: 'tgl_pengembalian', caption: 'Tgl. Pengembalian'},
                    {
                    dataField: "status",
                    caption: "Status",
                    width: 125,
                    lookup: {
                        dataSource: status,
                        displayExpr: "nama",
                        valueExpr: "id"
                        }
                    },
                    {
                        caption: "Aksi",
                        width: 100,
                        cellTemplate: function (container, options) {
                            if (options.rowType !== 'groupFooter') {
                                $('<div/>').html('<a onclick="konfirmasi_kembali('+options.data.id+')"><i class="fa fa-check"></i></a> | <a onclick="tolak_kembali('+options.data.id+')"><i class="fa fa-remove"></i></a>')
                                    .appendTo(container);
                            }

                        },

                        alignment: 'center', allowEditing: false

                    }
                ],
                summary: {
                    groupItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
            });
        }
loadTablePakai(null);
$.ajax({
    type: 'POST',
    url: '../config/api.php?modul=k-pakai',
    dataType: "json",
    success: function (data) {
        loadTablePakai(data)
    }
});
function loadTablePakai(Data) {
            $("#gridpakai").dxDataGrid({
                dataSource:  Data,
                loadPanel: {
                    enabled: true
                },
                "export": {
                    enabled: true,
                    fileName: ""
                },
                showColumnLines: true,
                showRowLines: true,
                showBorders: true,
                paging: {
                    pageSize: 10,
                    enabled:true
                },

                groupPanel: {
                    visible: true
                },
                filterRow: {
                    visible: true,
                    applyFilter: "auto"
                },
                headerFilter: {
                    visible: true,
                    allowSearch:false
                },

                columnAutoWidth:true,
                allowColumnResizing: true,
                columnResizingMode: "nextColumn",
                showScrollbar: 'always',

                grouping: {
                    autoExpandAll: true
                },
                pager: {
                    showPageSizeSelector: true,
                    allowedPageSizes: [10, 50, 100],
                    showInfo: false
                },
                searchPanel: {
                    visible: false,
                    width: 240,
                    placeholder: "Search..."
                },
                columns: [
                    {dataField: 'id',visible: false},
                    {dataField: 'kode', caption: 'Kode'},
                    {dataField: 'nama_pemakai', caption: 'Nama'},
                    {dataField: 'nama_bahan', caption: 'Nama Bahan'},
                    {dataField: 'merk', caption: 'Merk'},
                    {dataField: 'wujud', caption: 'Merk'},
                    {dataField: 'konsentrasi', caption: 'konsentrasi'},
                    {dataField: 'jumlah_pakai', caption: 'Jumlah Pakai'},
                    {dataField: 'tersedia', caption: 'Sisa Bahan'}
                ],
                summary: {
                    groupItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }],
                    totalItems: [{
                        column: "kode",
                        summaryType: "count",
                        displayFormat: "{0} Items"
                    }]
                },
            });
        }
</script>
</body>
<!-- end::Body -->
</html>